# Регистрация в админку c подтверждением email

**Бизнес смысл**

Регистрация представляет собой страницу sign page для входа в систему. Данная страница состоит из формы регистрации пользования со следующими полями: имя, email, пароль

**Входные данные**

| Название поля | Обязательность |             Примечание              |
|:-------------:|:--------------:|:-----------------------------------:|
|   firstName   |       да       | Валидация текста (min/max и прочее) |
|     email     |       да       |           Валидация email           |
|   password    |       да       |          Валидация пароля           |

**Логика обработки данных из формы**

1. Создать пользователя со статусом wait и с ролью ROLE_USER
2. Отправить пользователю на указанный email письмо с подтверждением аккаунта (email), где в качестве query string будет указан email_confirm_token
3. При переходе по ссылке из письма статус пользователя меняет статус на active. Поле email_confirm_token обнуляется. С этого момента система считает пользователя авторизованным.
4. В очередь отправляется сообщение о добавлении пользователя (через event bus)

`*email_confirm_token - можно получить с использованием UUID`  
`*возможные статусы пользователя: blocked, active, wait`  
`*возможные роли пользователя: ROLE_USER, ROLE_ADMIN`  
